{"version":3,"sources":["webpack:///./src/views/worker/list.vue","webpack:///./src/client/client.js?f27a*","webpack:///./src/client/worker.js?79cb*","webpack:///creationModal.vue?72ab","webpack:///editModal.vue?47e9","webpack:///list.vue?b9a3","webpack:///./src/views/worker/components/creationModal.vue","webpack:///./src/views/worker/components/editModal.vue","webpack:///./src/views/worker/components/creationModal.vue?b147","webpack:///./src/views/worker/components/editModal.vue?7a88","webpack:///./src/views/worker/list.vue?702c"],"names":["func","message","error","response","undefined","console","iView","Message","data","status_msg","URLs","list","stop","start","create","delete","update","worker","instance","axios","baseURL","timeout","getlist","params","success","get","then","catch","client","stopWorker","id","put","e","startWorker","deleteWorker","createWorker","post","updateWorker"],"mappings":"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AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACzGA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACjGA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"2.chunk.js","sourcesContent":["var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8f096f6\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./list.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/huteng/go_work/src/taskcenter-admin/assets/src/views/worker/list.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] list.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-a8f096f6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-a8f096f6\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/worker/list.vue\n// module id = 176\n// module chunks = 2","import iView from \"iview\";\n\nlet func = {}\n\nfunc.message = function (error) {\n    if (error.response === undefined){\n        console.error(error);\n        return;\n    }\n\n    iView.Message.error(error.response.data.status_msg)\n}\n\nexport default func\n\n\n// WEBPACK FOOTER //\n// ./src/client/client.js","import axios from 'axios'\nimport client from './client'\n\nconst URLs = {\n    list: 'list',\n    stop: 'stop',\n    start: 'start',\n    create: 'create',\n    delete: 'delete',\n    update: 'update',\n}\n\nlet worker = {};\n\nvar instance = axios.create({\n    baseURL: '/api/worker',\n    timeout: 3000,\n});\n\nworker.getlist = function (params, success) {\n    instance.get(URLs.list, {params: params}).then((response) => {\n        if (success !== undefined) {\n            success(response.data.data)\n        }\n    }).catch(client.message);\n};\n\nworker.stopWorker = function (id, success,error) {\n    instance.put(URLs.stop, {id: id}).then((response) => {\n        if (success !== undefined) {\n            success(response.data)\n        }\n    }).catch((e) => {\n        if (e !== undefined) {\n            error(e)\n        } else {\n            client.message(e)\n        }\n    });\n};\n\nworker.startWorker = function (id, success,error) {\n    instance.put(URLs.start, {id: id}).then((response) => {\n        if (success !== undefined) {\n            success(response.data)\n        }\n    }).catch((e) => {\n        if (e !== undefined) {\n            error(e)\n        } else {\n            client.message(e)\n        }\n    });\n};\n\n\nworker.deleteWorker = function (id, success) {\n    instance.put(URLs.delete, {id: id}).then((response) => {\n        if (success !== undefined) {\n            success(response.data)\n        }\n    }).catch((e) => {\n        if (error !== undefined) {\n            error(e)\n        } else {\n            client.message(e)\n        }\n    });\n};\n\nworker.createWorker = function (params, success, error) {\n    instance.post(URLs.create, params).then((response) => {\n        if (success !== undefined) {\n            success(response.data)\n        }\n    }).catch((e) => {\n        if (error !== undefined) {\n            error(e)\n        } else {\n            client.message(e)\n        }\n    });\n};\n\nworker.updateWorker = function (params, success, error) {\n    instance.put(URLs.update, params).then((response) => {\n        if (success !== undefined) {\n            success(response.data)\n        }\n    }).catch((e) => {\n        if (error !== undefined) {\n            error(e)\n        } else {\n            client.message(e)\n        }\n    });\n};\n\nexport default worker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/worker.js","<template>\n    <!--创建服务对话框-->\n    <Modal v-model=\"show\">\n        <p slot=\"header\">\n            <Icon type=\"information-circled\"></Icon>\n            <span>{{title}}</span>\n        </p>\n        <div style=\"width: 400px\">\n            <Form class=\"form\" ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"120\">\n                <FormItem label=\"名称:\" prop=\"topic\">\n                    <Input v-model=\"formValidate.topic\"></Input>\n                </FormItem>\n                <FormItem label=\"数量:\" prop=\"num\">\n                    <Input v-model=\"formValidate.num\"></Input>\n                </FormItem>\n                <FormItem label=\"描述\" prop=\"intro\">\n                    <Input v-model=\"formValidate.intro\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 5}\"\n                           placeholder=\"必填，不超过2000个字符\"></Input>\n                </FormItem>\n            </Form>\n        </div>\n        <div slot=\"footer\">\n            <div style=\"margin:0 auto;width:70px;\">\n                <Button type=\"primary\" :loading=\"loading\" @click=\"submit('formValidate')\">创建</Button>\n            </div>\n        </div>\n    </Modal>\n</template>\n\n\n<script>\n    import worker from '../../../client/worker'\n\n    export default {\n        props: {\n            title: String\n        },\n        data() {\n            return {\n                show: false,\n                loading: false,\n                formValidate: {\n                    topic: '',\n                    num: 0,\n                    intro: '',\n                },\n                ruleValidate: {\n                    topic: [\n                        {required: true, message: '请填写名称', trigger: 'blur'}\n                    ],\n                    intro: [\n                        {required: true, message: '请填写描述', trigger: 'blur'},\n                        {type: 'string', max: 2000, message: '描述不能超过2000个字符', trigger: 'blur'}\n                    ],\n                },\n            }\n        },\n        mounted() {\n        },\n        methods: {\n            open: function () {\n                this.show = true;\n            },\n            submit: function (name) {\n                this.$refs[name].validate((valid) => {\n                    if (!valid) {\n                        return;\n                    }\n\n                    let reset = () => {\n                        this.formValidate = {};\n                        this.loading = false;\n                        this.show = false;\n                    };\n                    let error = (error) => {\n                        this.loading = false;\n                        this.$Modal.error({\n                            title: '提交失败',\n                            content: error.response.data.status_msg\n                        })\n                    };\n\n                    this.loading = true;\n\n                    this.formValidate.num = this.formValidate.num.toString()\n                    worker.createWorker(this.formValidate, (body) => {\n                        this.$emit('on-success', body.data.id);\n                        this.$Message.success(\"创建成功\");\n                        reset()\n                    }, error)\n                })\n            },\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// creationModal.vue?13024d6a","<template>\n    <!--创建服务对话框-->\n    <Modal v-model=\"show\">\n        <p slot=\"header\">\n            <Icon type=\"information-circled\"></Icon>\n            <span>{{title}}</span>\n        </p>\n        <div style=\"width: 400px\">\n            <Form class=\"form\" ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"120\">\n                <FormItem disabled label=\"名称:\" prop=\"topic\">\n                    <span style=\"font-size:13px\">{{topic}}</span>\n                </FormItem>\n                <FormItem label=\"数量:\" prop=\"num\">\n                    <Input v-model=\"formValidate.num\"></Input>\n                </FormItem>\n                <FormItem label=\"描述\" prop=\"intro\">\n                    <Input v-model=\"formValidate.intro\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 5}\"\n                           placeholder=\"必填，不超过2000个字符\"></Input>\n                </FormItem>\n            </Form>\n        </div>\n        <div slot=\"footer\">\n            <Button type=\"primary\" :loading=\"loading\" @click=\"submit('formValidate')\">保存</Button>\n        </div>\n    </Modal>\n</template>\n\n\n<script>\n    import worker from '../../../client/worker'\n\n    export default {\n        props: {\n            title: String,\n        },\n        data() {\n            return {\n                show: false,\n                topic: \"\",\n                loading: false,\n                formValidate: {\n                    id: 0,\n                    num: 0,\n                    intro: '',\n                },\n                ruleValidate: {\n                    num: [\n                        {required: true, message: '请填写数量', trigger: 'blur'}\n                    ],\n                    intro: [\n                        {required: true, message: '请填写描述', trigger: 'blur'},\n                        {type: 'string', max: 2000, message: '描述不能超过2000个字符', trigger: 'blur'}\n                    ],\n                },\n            }\n        },\n        methods: {\n            open: function (data) {\n                this.show = true;\n                this.topic = data.topic\n                this.formValidate.id = data.id.toString()\n                this.formValidate.num = data.num.toString()\n                this.formValidate.intro = data.intro\n            },\n            submit: function (name) {\n                this.$refs[name].validate((valid) => {\n                    if (!valid) {\n                        return;\n                    }\n\n                    let reset = () => {\n                        this.formValidate = {};\n                        this.loading = false;\n                        this.show = false;\n                    };\n                    let error = (error) => {\n                        this.loading = false;\n                        this.$Modal.error({\n                            title: '提交失败',\n                            content: error.response.data.status_msg\n                        })\n                    };\n\n                    this.loading = true;\n                    worker.updateWorker(this.formValidate, (body) => {\n                        this.$emit('on-success', body.data.id);\n                        this.$Message.success(\"编辑成功\");\n                        reset()\n                    }, error)\n                })\n            },\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// editModal.vue?0eb9211e","<template>\n    <div>\n        <div style=\"font-size:16px; padding: 6px;\">Worker管理\n            <span style=\"font-size:12px; padding-left:10px\">管理系统所有的Worker</span>\n        </div>\n        <div style=\"height: 50px; \">\n            <div style=\"font-size:16px; padding: 6px; float: left;\">\n                <Button type=\"warning\" @click=\"refreshList\">Worker 列 表</Button>\n            </div>\n            <div style=\"padding: 6px; float: right;\">\n                <ModalEdit ref=\"modalEdit\" @on-success=\"refreshList\" title=\"编辑worker\"></ModalEdit>\n                <ModalCreation ref=\"modalCreation\" @on-success=\"refreshList\" title=\"添加worker\"></ModalCreation>\n                <Button type=\"primary\" @click=\"$refs.modalCreation.open()\">添加</Button>\n            </div>\n        </div>\n\n        <Table border :columns=\"columns\" :data=\"datas\"></Table>\n    </div>\n</template>\n<script>\n    import worker from '../../client/worker'\n    import ModalCreation from './components/creationModal'\n    import ModalEdit from './components/editModal'\n\n    export default {\n        components: {\n            ModalCreation,\n            ModalEdit,\n        },\n        data() {\n            return {\n                columns: [\n                    {\n                        title: '序号',\n                        key: 'id'\n                    },\n                    {\n                        title: '消费者',\n                        key: 'topic'\n                    },\n                    {\n                        title: '数量',\n                        key: 'num'\n                    },\n                    {\n                        title: '状态',\n                        key: 'state',\n                            render: (h, params) => {\n                            if (params.row.state==1) {\n                                return h('div', [\n                                    h('span', {\n                                        style: {\n                                            \"background-color\": \"#2c7\"\n                                        },\n                                    },\"运行中\")\n                                ])\n                            } else {\n                                return h('div', [\n                                    h('span', {\n                                        style: {\n                                           \"background-color\": \"#FF6633\"\n                                        },\n                                    },\"停用\")\n                                ])\n                            }\n                        }\n                    },\n                    {\n                        title: '描述',\n                        key: 'intro'\n                    },            \n                    {\n                        title: '创建时间',\n                        key: 'ctime',\n                    },\n                    {\n                        title: '启动时间',\n                        key: 'update_time',\n                    },\n                    {\n                        title: '操作',\n                        key: 'action',\n                        width: 260,\n                        render: (h, params) => {\n                            return h('div', [\n                                h('Button', {\n                                    props: {\n                                        type: 'primary',\n                                        size: 'small'\n                                    },\n                                    style: {\n                                        marginRight: '10px'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            if (params.row.state == 1) {\n                                                this.$Modal.confirm({\n                                                    title: '确认暂停',\n                                                    content: '确定要暂停worker工作吗？',\n                                                    onOk: () => {\n                                                        this.stopWorker(params.row.id)\n                                                    }\n                                                });\n                                            } else if (params.row.state == 2) {\n                                                this.$Modal.confirm({\n                                                    title: '确认开始',\n                                                    content: '确定要开始worker工作吗？',\n                                                    onOk: () => {\n                                                        this.startWorker(params.row.id)\n                                                    }\n                                                });\n                                            }\n                                        }\n                                    }\n                                }, '暂停/开始'),\n                                h('Button', {\n                                    props: {\n                                        type: 'primary',\n                                        size: 'small'\n                                    },\n                                    style: {\n                                        marginRight: '10px'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.$refs.modalEdit.open(params.row)\n                                        }\n                                    }\n                                }, '编辑'),\n                                h('Button', {\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.$Modal.confirm({\n                                                title: '确认删除',\n                                                content: '确定要删除吗？',\n                                                onOk: () => {\n                                                    this.deleteWorker(params.row.id)\n                                                }\n                                            });\n                                        }\n                                    }\n                                }, '删除')\n                            ]);\n                        }\n                    }\n                ],\n                datas: [\n                ]\n            }\n        },\n        methods: {\n            refreshList() {\n                worker.getlist({}, (body) => {\n                    if (body.data.list!=null) {\n                        this.datas = body.data.list\n                    } else {\n                        this.datas = []\n                    }\n                })\n            },\n            stopWorker(id) {\n                worker.stopWorker(id, () => {\n                    this.refreshList()\n                })\n            },\n            startWorker(id) {\n                worker.startWorker(id, () => {\n                    this.refreshList()\n                })\n            },\n            deleteWorker(id) {\n                worker.deleteWorker(id, () => {\n                    this.refreshList()\n                })\n            }\n        },\n        mounted: function () {\n            this.refreshList()\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// list.vue?27422430","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../../node_modules/iview-loader/index.js??ref--0-1!./creationModal.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a3fcabc\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../../node_modules/iview-loader/index.js??ref--0-1!./creationModal.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/huteng/go_work/src/taskcenter-admin/assets/src/views/worker/components/creationModal.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] creationModal.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0a3fcabc\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0a3fcabc\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/worker/components/creationModal.vue\n// module id = 206\n// module chunks = 2","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../../node_modules/iview-loader/index.js??ref--0-1!./editModal.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f5626f1\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../../node_modules/iview-loader/index.js??ref--0-1!./editModal.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/huteng/go_work/src/taskcenter-admin/assets/src/views/worker/components/editModal.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] editModal.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6f5626f1\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-6f5626f1\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/worker/components/editModal.vue\n// module id = 207\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Modal', {\n    model: {\n      value: (_vm.show),\n      callback: function($$v) {\n        _vm.show = $$v\n      },\n      expression: \"show\"\n    }\n  }, [_c('p', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"information-circled\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.title))])], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"400px\"\n    }\n  }, [_c('Form', {\n    ref: \"formValidate\",\n    staticClass: \"form\",\n    attrs: {\n      \"model\": _vm.formValidate,\n      \"rules\": _vm.ruleValidate,\n      \"label-width\": 120\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \"名称:\",\n      \"prop\": \"topic\"\n    }\n  }, [_c('Input', {\n    model: {\n      value: (_vm.formValidate.topic),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"topic\", $$v)\n      },\n      expression: \"formValidate.topic\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"数量:\",\n      \"prop\": \"num\"\n    }\n  }, [_c('Input', {\n    model: {\n      value: (_vm.formValidate.num),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"num\", $$v)\n      },\n      expression: \"formValidate.num\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"intro\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 3,\n        maxRows: 5\n      },\n      \"placeholder\": \"必填，不超过2000个字符\"\n    },\n    model: {\n      value: (_vm.formValidate.intro),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"intro\", $$v)\n      },\n      expression: \"formValidate.intro\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('div', {\n    staticStyle: {\n      \"margin\": \"0 auto\",\n      \"width\": \"70px\"\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit('formValidate')\n      }\n    }\n  }, [_vm._v(\"创建\")])], 1)])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-0a3fcabc\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a3fcabc\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/iview-loader?{\"prefix\":false}!./src/views/worker/components/creationModal.vue\n// module id = 209\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('Modal', {\n    model: {\n      value: (_vm.show),\n      callback: function($$v) {\n        _vm.show = $$v\n      },\n      expression: \"show\"\n    }\n  }, [_c('p', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"information-circled\"\n    }\n  }), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.title))])], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"400px\"\n    }\n  }, [_c('Form', {\n    ref: \"formValidate\",\n    staticClass: \"form\",\n    attrs: {\n      \"model\": _vm.formValidate,\n      \"rules\": _vm.ruleValidate,\n      \"label-width\": 120\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"disabled\": \"\",\n      \"label\": \"名称:\",\n      \"prop\": \"topic\"\n    }\n  }, [_c('span', {\n    staticStyle: {\n      \"font-size\": \"13px\"\n    }\n  }, [_vm._v(_vm._s(_vm.topic))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"数量:\",\n      \"prop\": \"num\"\n    }\n  }, [_c('Input', {\n    model: {\n      value: (_vm.formValidate.num),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"num\", $$v)\n      },\n      expression: \"formValidate.num\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"描述\",\n      \"prop\": \"intro\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 3,\n        maxRows: 5\n      },\n      \"placeholder\": \"必填，不超过2000个字符\"\n    },\n    model: {\n      value: (_vm.formValidate.intro),\n      callback: function($$v) {\n        _vm.$set(_vm.formValidate, \"intro\", $$v)\n      },\n      expression: \"formValidate.intro\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit('formValidate')\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-6f5626f1\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f5626f1\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/iview-loader?{\"prefix\":false}!./src/views/worker/components/editModal.vue\n// module id = 219\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"50px\"\n    }\n  }, [_c('div', {\n    staticStyle: {\n      \"font-size\": \"16px\",\n      \"padding\": \"6px\",\n      \"float\": \"left\"\n    }\n  }, [_c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.refreshList\n    }\n  }, [_vm._v(\"Worker 列 表\")])], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"padding\": \"6px\",\n      \"float\": \"right\"\n    }\n  }, [_c('ModalEdit', {\n    ref: \"modalEdit\",\n    attrs: {\n      \"title\": \"编辑worker\"\n    },\n    on: {\n      \"on-success\": _vm.refreshList\n    }\n  }), _vm._v(\" \"), _c('ModalCreation', {\n    ref: \"modalCreation\",\n    attrs: {\n      \"title\": \"添加worker\"\n    },\n    on: {\n      \"on-success\": _vm.refreshList\n    }\n  }), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$refs.modalCreation.open()\n      }\n    }\n  }, [_vm._v(\"添加\")])], 1)]), _vm._v(\" \"), _c('Table', {\n    attrs: {\n      \"border\": \"\",\n      \"columns\": _vm.columns,\n      \"data\": _vm.datas\n    }\n  })], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"font-size\": \"16px\",\n      \"padding\": \"6px\"\n    }\n  }, [_vm._v(\"Worker管理\\n        \"), _c('span', {\n    staticStyle: {\n      \"font-size\": \"12px\",\n      \"padding-left\": \"10px\"\n    }\n  }, [_vm._v(\"管理系统所有的Worker\")])])\n}]}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-a8f096f6\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a8f096f6\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/iview-loader?{\"prefix\":false}!./src/views/worker/list.vue\n// module id = 220\n// module chunks = 2"],"sourceRoot":""}